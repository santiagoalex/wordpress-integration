query CategoryPosts(
  $wp_page: Int
  $wp_per_page: Int
  $category: Int!
  $customDomain: String
) {
  wpCategory(id: $category, customDomain: $customDomain)
    @context(provider: "vtex.wordpress-integration") {
    name
    slug
    wpPosts(
      page: $wp_page
      per_page: $wp_per_page
      customDomain: $customDomain
    ) {
      posts {
        title {
          rendered
        }
        author(customDomain: $customDomain) {
          name
        }
        excerpt {
          rendered
        }
        categories(customDomain: $customDomain) {
          name
          id
          parent
          slug
        }
        featured_media(customDomain: $customDomain) {
          source_url
          alt_text
          media_type
          media_details {
            sizes {
              thumbnail {
                source_url
              }
              medium {
                source_url
              }
              medium_large {
                source_url
              }
              large {
                source_url
              }
              full {
                source_url
              }
            }
          }
        }
        date
        id
        slug
        link
        amp_enabled
      }
      total_count
    }
  }
}
