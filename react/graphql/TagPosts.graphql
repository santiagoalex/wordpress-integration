query TagPosts(
  $wp_page: Int
  $wp_per_page: Int
  $tag: String!
  $customDomain: String
) {
  wpTags(search: $tag, customDomain: $customDomain)
    @context(provider: "vtex.wordpress-integration") {
    tags {
      name
      wpPosts(
        page: $wp_page
        per_page: $wp_per_page
        customDomain: $customDomain
      ) {
        posts {
          title {
            rendered
          }
          author(customDomain: $customDomain) {
            name
          }
          content {
            rendered
          }
          excerpt {
            rendered
          }
          categories(customDomain: $customDomain) {
            name
            id
            slug
          }
          featured_media(customDomain: $customDomain) {
            source_url
            alt_text
            media_type
            media_details {
              sizes {
                thumbnail {
                  source_url
                }
                medium {
                  source_url
                }
                medium_large {
                  source_url
                }
                large {
                  source_url
                }
                full {
                  source_url
                }
              }
            }
          }
          date
          id
          slug
          link
          amp_enabled
        }
        total_count
      }
    }
  }
}
